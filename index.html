<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <meta name="robots" content="noindex">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>競馬</title>
  </head>
  <body>
    <style>
      body {
        margin: 0;
      }
      .container {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 24px;
        padding: 24px 0;
      }
      .table {
        display: grid;
        grid-template-columns: 50px 200px 200px 200px;
        grid-auto-rows: 30px;
        font-size: 15px;
        border: 1px solid black;
        margin-bottom: 24px;
        width: fit-content;
        margin-right: auto;
        margin-left: auto;
      }
      .table div {
        border: 1px solid black;
        padding: 2px;
        box-sizing: border-box;
      }
      .betTable {
        display: grid;
        grid-template-columns: 75px 300px 275px;
        grid-template-rows: betRow(11, 40px);
        font-size: 20px;
        border: 1px solid black;
        width: fit-content;
        margin-right: auto;
        margin-left: auto;
      }
      .betTable > div {
        border: 1px solid black;
        padding: 2px;
        box-sizing: border-box;
      }
      .info {
        display: grid;
        grid-template-columns: 125px 125px;
        grid-template-rows: 50px;
        font-size: 20px;
        align-items: center;
        justify-items: center;
        margin-bottom: 24px;
        width: fit-content;
        margin-right: auto;
        margin-left: auto;
      }
      .info > div {
        border: 1px solid black;
        padding: 2px;
        box-sizing: border-box;
      }
      .startButton {
        width: 100px;
        height: 50px;
        background-color: crimson;
        color: white;
        font-size: 22px;
        font-weight: bold;
        border: none;
        border-radius: 10px;
        cursor: pointer;
      }
    </style>
    <div class="table" id="table">
      <div>名前</div>
      <div>特長</div>
      <div>弱点</div>
      <div>得意条件</div>
      <div>1番</div>
      <div>スピード、加速が速い</div>
      <div>スタミナが低い</div>
      <div>1200〜1400m</div>
      <div>2番</div>
      <div>スタートダッシュ最強</div>
      <div>せられると失速する</div>
      <div>少頭数、ハイペース</div>
      <div>3番</div>
      <div>後半の伸びが安定</div>
      <div>展開依存度が高い</div>
      <div>平均〜ハイペース</div>
      <div>4番</div>
      <div>末脚最強、ハマると圧勝</div>
      <div>不発率が高い</div>
      <div>ハイペース、長い直線コース</div>
      <div>5番</div>
      <div>能力が全体的に高い</div>
      <div>突出した強みがない</div>
      <div>1600〜2000m</div>
      <div>6番</div>
      <div>スタミナ特化、消耗戦に強い</div>
      <div>スピード不足</div>
      <div>3000m以上</div>
      <div>7番</div>
      <div>馬場状況が悪いと強くなる</div>
      <div>良馬場では平凡</div>
      <div>重・不良馬場</div>
      <div>8番</div>
      <div>ダートの時に速い</div>
      <div>芝はほぼ走らない</div>
      <div>ダート全般</div>
      <div>9番</div>
      <div>能力振れ幅が大きい</div>
      <div>安定性が低い</div>
      <div>調子がいいときだけ</div>
    </div>
    <div class="info">
      <div id="money">1000</div>
      <button class="startButton">START</button>
    </div>
    <div class="betTable" id="betTable">
      <div>種類</div>
      <div>馬</div>
      <div>金額</div>
      <div class="betRow">
        <select class="ticket">
          <option value="none"></option>
          <option value="win">単勝</option>
          <option value="place">複勝</option>
          <option value="quinella">馬連</option>
          <option value="exacta">馬単</option>
          <option value="wide">ワイド</option>
          <option value="trio">三連複</option>
          <option value="trifecta">三連単</option>
        </select>
      </div>
      <div class="betRow betHorse">
        <span class="first">1着</span>
        <select class="select1">
          <option value="1">1</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5</option>
          <option value="6">6</option>
          <option value="7">7</option>
          <option value="8">8</option>
          <option value="9">9</option>
        </select>
        <span class="second">2着</span>
        <select class="select2">
          <option value="1">1</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5</option>
          <option value="6">6</option>
          <option value="7">7</option>
          <option value="8">8</option>
          <option value="9">9</option>
        </select>
        <span class="third">3着</span>
        <select class="select3">
          <option value="1">1</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5</option>
          <option value="6">6</option>
          <option value="7">7</option>
          <option value="8">8</option>
          <option value="9">9</option>
        </select>
      </div>
      <div class="betRow">
        <input class="bet" type="number" min="0" step="1">
      </div>
    </div>
    <script>
      const betTable = document.getElementById("betTable");
      const templates = betTable.querySelectorAll(".betRow");
      for (let i = 0; i < 10; i++) {
        templates.forEach(cell => {
          const clone = cell.cloneNode(true);
          const bet = clone.querySelector(".bet");
          if (bet) bet.value = "";
          betTable.appendChild(clone);
        });
      }
      betTable.querySelectorAll(".betHorse").forEach(row => {
        row.querySelectorAll("span, select").forEach(el => {
          el.style.visibility = "hidden";
        });
      });
      betTable.querySelectorAll(".ticket").forEach(ticket => {
        ticket.addEventListener("change", () => {
          const value = ticket.value;
          const betRow = ticket.closest(".betRow");
          const betHorse = betRow.nextElementSibling;
          if (!betHorse || !betHorse.classList.contains("betHorse")) return;
          if (value == "none") {
            betHorse.querySelectorAll("span, select").forEach(el => {
              el.style.visibility = "hidden";
            });
          } else if (value == "win") {
            betHorse.querySelectorAll(".select1, .first").forEach(el => {
              el.style.visibility = "visible";
            });
            betHorse.querySelectorAll(".second, .select2, .third, .select3").forEach(el => {
              el.style.visibility = "hidden";
            });
          } else if (value == "place") {
            betHorse.querySelectorAll(".select1").forEach(el => {
              el.style.visibility = "visible";
            });
            betHorse.querySelectorAll(".first, .second, .select2, .third, .select3").forEach(el => {
              el.style.visibility = "hidden";
            });
          } else if (value == "quinella") {
            betHorse.querySelectorAll(".select1, .select2").forEach(el => {
              el.style.visibility = "visible";
            });
            betHorse.querySelectorAll(".first, .second, .third, .select3").forEach(el => {
              el.style.visibility = "hidden";
            });
          } else if (value == "exacta") {
            betHorse.querySelectorAll(".first, .select1, .second, .select2").forEach(el => {
              el.style.visibility = "visible";
            });
            betHorse.querySelectorAll(".third, .select3").forEach(el => {
              el.style.visibility = "hidden";
            });
          } else if (value == "wide") {
            betHorse.querySelectorAll(".select1, .select2").forEach(el => {
              el.style.visibility = "visible";
            });
            betHorse.querySelectorAll(".first, .second, .third, .select3").forEach(el => {
              el.style.visibility = "hidden";
            });
          } else if (value == "trio") {
            betHorse.querySelectorAll(".select1, .select2, .select3").forEach(el => {
              el.style.visibility = "visible";
            });
            betHorse.querySelectorAll(".first, .second, .third").forEach(el => {
              el.style.visibility = "hidden";
            });
          } else if (value == "trifecta") {
            betHorse.querySelectorAll(".first, .select1, .second, .select2, .third, .select3").forEach(el => {
              el.style.visibility = "visible";
            });
          }
        });
      });
    </script>
  </body>
</html>
